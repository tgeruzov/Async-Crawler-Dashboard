# üï∑Ô∏è Advanced Async Python Crawler

**Advanced Async Python Crawler** ‚Äî –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω—ã–π –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç –¥–ª—è –≤—ã—Å–æ–∫–æ–ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ–≥–æ —Å–±–æ—Ä–∞ –¥–∞–Ω–Ω—ã—Ö. –û–Ω —Å–æ—á–µ—Ç–∞–µ—Ç —Å–∫–æ—Ä–æ—Å—Ç—å –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤, –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏ –±—Ä–∞—É–∑–µ—Ä–Ω–æ–≥–æ —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞ –∏ –∏–Ω—Ç–µ–ª–ª–µ–∫—Ç—É–∞–ª—å–Ω—ã–π –∞–Ω–∞–ª–∏–∑ –∫–æ–Ω—Ç–µ–Ω—Ç–∞.

---

## üíé –û—Å–Ω–æ–≤–Ω—ã–µ –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç–∏

* **Async Engine**: –ò—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ `aiohttp` –¥–ª—è –ø–∞—Ä–∞–ª–ª–µ–ª—å–Ω–æ–π –æ–±—Ä–∞–±–æ—Ç–∫–∏ —Å–æ—Ç–µ–Ω —Å—Ç—Ä–∞–Ω–∏—Ü.
* **Sitemap Support**: –†–µ–∫—É—Ä—Å–∏–≤–Ω—ã–π –æ–±—Ö–æ–¥ `sitemap.xml` –¥–ª—è –Ω–∞—Ö–æ–∂–¥–µ–Ω–∏—è –≤—Å–µ—Ö —Å–∫—Ä—ã—Ç—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.
* **JS Rendering**: –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Å **Playwright** –¥–ª—è –ø–∞—Ä—Å–∏–Ω–≥–∞ SPA (React, Vue, Angular).
* **Smart Extraction**: –ò–∑–≤–ª–µ—á–µ–Ω–∏–µ —á–∏—Å—Ç–æ–≥–æ —Ç–µ–∫—Å—Ç–∞ –±–µ–∑ —Ä–µ–∫–ª–∞–º—ã –∏ –º–µ–Ω—é —á–µ—Ä–µ–∑ `Trafilatura`.
* **Live Dashboard**: –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–æ–≥—Ä–µ—Å—Å–∞ –∏ —Å—Ç–∞—Ç–∏—Å—Ç–∏–∫–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏.
* **Reliability**: –°–∏—Å—Ç–µ–º–∞ –ø–æ–≤—Ç–æ—Ä–Ω—ã—Ö –ø–æ–ø—ã—Ç–æ–∫ (retries) –∏ —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ —Å–æ—Å—Ç–æ—è–Ω–∏—è –≤ SQLite.

---

## üõ† –ü–æ–¥—Ä–æ–±–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —ç–∫—Å–ø–ª—É–∞—Ç–∞—Ü–∏–∏

### 1. –ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –æ–∫—Ä—É–∂–µ–Ω–∏—è

```bash
# –ö–ª–æ–Ω–∏—Ä–æ–≤–∞–Ω–∏–µ —Ä–µ–ø–æ–∑–∏—Ç–æ—Ä–∏—è
git clone https://github.com/tgeruzov/Async-Crawler-Dashboard.git
cd advanced-python-crawler

# –ù–∞—Å—Ç—Ä–æ–π–∫–∞ –≤–∏—Ä—Ç—É–∞–ª—å–Ω–æ–≥–æ –æ–∫—Ä—É–∂–µ–Ω–∏—è
python -m venv .venv
source .venv/bin/activate   # Windows: .venv\Scripts\activate

# –£—Å—Ç–∞–Ω–æ–≤–∫–∞ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–µ–π –∏ –±—Ä–∞—É–∑–µ—Ä–∞
pip install -r requirements.txt
playwright install chromium

```

### 2. –ó–∞–ø—É—Å–∫ –ø–∞—Ä—Å–µ—Ä–∞ (Crawler)

–ü–∞—Ä—Å–µ—Ä –ø—Ä–∏–Ω–∏–º–∞–µ—Ç –∞—Ä–≥—É–º–µ–Ω—Ç—ã –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–∏, –∫–æ—Ç–æ—Ä—ã–µ –∏–º–µ—é—Ç –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç –Ω–∞–¥ —Ñ–∞–π–ª–æ–º –∫–æ–Ω—Ñ–∏–≥—É—Ä–∞—Ü–∏–∏.

**–ü—Ä–∏–º–µ—Ä—ã –∑–∞–ø—É—Å–∫–∞:**

* **–°—Ç–∞–Ω–¥–∞—Ä—Ç–Ω—ã–π –∑–∞–ø—É—Å–∫**:
`python advanced_crawler.py --start https://example.com`
* **–° —Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–æ–º JavaScript** (–µ—Å–ª–∏ —Å–∞–π—Ç –ø—É—Å—Ç–æ–π –±–µ–∑ JS):
`python advanced_crawler.py --start https://example.com --playwright`
* **–ü–∞—Ä—Å–∏–Ω–≥ –±–µ–∑ –∫–∞—Ä—Ç—ã —Å–∞–π—Ç–∞** (—Ç–æ–ª—å–∫–æ –ø–æ –≤–Ω—É—Ç—Ä–µ–Ω–Ω–∏–º —Å—Å—ã–ª–∫–∞–º):
`python advanced_crawler.py --start https://example.com --no-sitemap`

**–î–æ—Å—Ç—É–ø–Ω—ã–µ —Ñ–ª–∞–≥–∏:**
| –§–ª–∞–≥ | –û–ø–∏—Å–∞–Ω–∏–µ |
| :--- | :--- |
| `--start` / `-s` | –°—Ç–∞—Ä—Ç–æ–≤—ã–π URL (–æ–±—è–∑–∞—Ç–µ–ª—å–Ω–æ) |
| `--playwright` | –í–∫–ª—é—á–∏—Ç—å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –±—Ä–∞—É–∑–µ—Ä–∞ Chrome |
| `--no-sitemap` | –ò–≥–Ω–æ—Ä–∏—Ä–æ–≤–∞—Ç—å –ø–æ–∏—Å–∫ sitemap.xml |
| `--config` / `-c` | –ü—É—Ç—å –∫ –∫–∞—Å—Ç–æ–º–Ω–æ–º—É YAML –∫–æ–Ω—Ñ–∏–≥—É |

### 3. –ó–∞–ø—É—Å–∫ –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥–∞ (Dashboard)

–î–∞—à–±–æ—Ä–¥ –ø–æ–∑–≤–æ–ª—è–µ—Ç —Å–ª–µ–¥–∏—Ç—å –∑–∞ –ø—Ä–æ—Ü–µ—Å—Å–æ–º, –Ω–µ –∑–∞–≥–ª—è–¥—ã–≤–∞—è –≤ –ª–æ–≥–∏ —Ç–µ—Ä–º–∏–Ω–∞–ª–∞.

```bash
streamlit run dashboard.py

```

*–ü–æ—Å–ª–µ –∑–∞–ø—É—Å–∫–∞ –æ—Ç–∫—Ä–æ–π—Ç–µ `http://localhost:8501` –≤ –≤–∞—à–µ–º –±—Ä–∞—É–∑–µ—Ä–µ.*

---

## ü§ñ –°–æ–±–ª—é–¥–µ–Ω–∏–µ robots.txt –∏ —ç—Ç–∏–∫–∞

–ü–∞—Ä—Å–µ—Ä –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏ —Å–ª–µ–¥—É–µ—Ç –ø—Ä–∞–≤–∏–ª–∞–º `robots.txt`:

1. **–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤**: –°–∫—Ä–∏–ø—Ç –Ω–µ –∑–∞—Ö–æ–¥–∏—Ç –≤ —Ä–∞–∑–¥–µ–ª—ã, –ø–æ–º–µ—á–µ–Ω–Ω—ã–µ –∫–∞–∫ `Disallow`.
2. **–°–æ–±–ª—é–¥–µ–Ω–∏–µ –∑–∞–¥–µ—Ä–∂–∫–∏**: –ï—Å–ª–∏ —É–∫–∞–∑–∞–Ω `Crawl-delay`, –±–æ—Ç –∑–∞–º–µ–¥–ª—è–µ—Ç—Å—è –∞–≤—Ç–æ–º–∞—Ç–∏—á–µ—Å–∫–∏.
3. **–ò–¥–µ–Ω—Ç–∏—Ñ–∏–∫–∞—Ü–∏—è**: –í—ã –º–æ–∂–µ—Ç–µ —Å–º–µ–Ω–∏—Ç—å `User-Agent` –≤ –Ω–∞—Å—Ç—Ä–æ–π–∫–∞—Ö, —á—Ç–æ–±—ã –±—ã—Ç—å –ø—Ä–æ–∑—Ä–∞—á–Ω—ã–º–∏ –¥–ª—è –≤–ª–∞–¥–µ–ª—å—Ü–µ–≤ —Å–∞–π—Ç–∞.

---

## ‚öôÔ∏è –¢–æ–Ω–∫–∞—è –Ω–∞—Å—Ç—Ä–æ–π–∫–∞ (config.yaml)

–í—ã –º–æ–∂–µ—Ç–µ —Å–æ–∑–¥–∞—Ç—å —Ñ–∞–π–ª `config.yaml` –¥–ª—è –ø–æ—Å—Ç–æ—è–Ω–Ω—ã—Ö –Ω–∞—Å—Ç—Ä–æ–µ–∫:

```yaml
user_agent: "MyCrawlerBot/1.0"
concurrency: 10          # –ö–æ–ª–∏—á–µ—Å—Ç–≤–æ –æ–¥–Ω–æ–≤—Ä–µ–º–µ–Ω–Ω—ã—Ö –∑–∞–ø—Ä–æ—Å–æ–≤
delay: 0.5               # –ü–∞—É–∑–∞ –º–µ–∂–¥—É –∑–∞–ø—Ä–æ—Å–∞–º–∏ (–≤ —Å–µ–∫)
max_pages: 1000          # –õ–∏–º–∏—Ç —Å—Ç—Ä–∞–Ω–∏—Ü (0 - –±–µ–∑ –ª–∏–º–∏—Ç–∞)
use_playwright: false    # –ì–ª–æ–±–∞–ª—å–Ω–æ–µ –≤–∫–ª—é—á–µ–Ω–∏–µ JS-—Ä–µ–Ω–¥–µ—Ä–∏–Ω–≥–∞
check_sitemap: true      # –ò—Å–∫–∞—Ç—å –ª–∏ –∫–∞—Ä—Ç—É —Å–∞–π—Ç–∞
output_dir: "data"       # –ö—É–¥–∞ —Å–æ—Ö—Ä–∞–Ω—è—Ç—å —Ñ–∞–π–ª—ã

```

---

## üìÇ –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –¥–∞–Ω–Ω—ã—Ö

–†–µ–∑—É–ª—å—Ç–∞—Ç—ã —Å–æ—Ö—Ä–∞–Ω—è—é—Ç—Å—è –≤ –ø–∞–ø–∫—É `data/`:

* `output.jsonl`: –û—Å–Ω–æ–≤–Ω–æ–π —Ñ–∞–π–ª. –ö–∞–∂–¥–∞—è —Å—Ç—Ä–æ–∫–∞ ‚Äî —ç—Ç–æ JSON —Å –∑–∞–≥–æ–ª–æ–≤–∫–æ–º, —Ç–µ–∫—Å—Ç–æ–º –∏ –º–µ—Ç–∞–¥–∞–Ω–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü—ã.
* `compact.csv`: –£–¥–æ–±–Ω–∞—è —Ç–∞–±–ª–∏—Ü–∞ –¥–ª—è Excel (—Å–ø–∏—Å–æ–∫ URL –∏ –¥–ª–∏–Ω–∞ —Ç–µ–∫—Å—Ç–æ–≤).
* `crawler_state.db`: –ë–∞–∑–∞ –¥–∞–Ω–Ω—ã—Ö SQLite. –ï—Å–ª–∏ –≤—ã –ø—Ä–µ—Ä–≤–µ—Ç–µ –ø–∞—Ä—Å–∏–Ω–≥ –∏ –∑–∞–ø—É—Å—Ç–∏—Ç–µ –µ–≥–æ —Å–Ω–æ–≤–∞, —Å–∫—Ä–∏–ø—Ç **–ø—Ä–æ–¥–æ–ª–∂–∏—Ç —Å –º–µ—Å—Ç–∞ –æ—Å—Ç–∞–Ω–æ–≤–∫–∏**, –Ω–µ —Å–∫–∞—á–∏–≤–∞—è —Å—Ç–∞—Ä—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –∑–∞–Ω–æ–≤–æ.

---

## üìÑ –õ–∏—Ü–µ–Ω–∑–∏—è

–ü—Ä–æ–µ–∫—Ç —Ä–∞—Å–ø—Ä–æ—Å—Ç—Ä–∞–Ω—è–µ—Ç—Å—è –ø–æ–¥ –ª–∏—Ü–µ–Ω–∑–∏–µ–π **MIT**.